<?xml version="1.0" encoding="UTF-8"?>

<project name="global-sablecc">

	<target name="global-sablecc" depends="global-taskdefs">
		<mkdir dir="${global.dir.tmp}"/>
		<mkdir dir="${global.dir.build.java}" />

		<outofdate>
			<sourcefiles>
				<fileset dir="${global.dir.src.grammar}">
					<include name="**/*.sablecc" />
				</fileset>
			</sourcefiles>
			<targetfiles path="${global.dir.tmp}/timestamp.sablecc"/>
			<sequential>
				<sablecc
					src="${global.dir.src.grammar}"
					outputdirectory="${global.dir.build.java}"
					includes="**/*.sablecc"
					/>
				<touch file="${global.dir.tmp}/timestamp.sablecc" />
			</sequential>
		</outofdate> 

    </target>

</project>
